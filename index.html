<!doctype html>

<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TopUp Game - RDX XD</title>
  <style>
    :root{
      --bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#94a3b8;--glass:rgba(255,255,255,0.04);
    }
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial}
    body{
      margin:0;
      background:url('rdxxd.png') center/cover no-repeat fixed;
      color:#e6eef6;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      backdrop-filter: blur(6px);
    }
    .container{width:100%;max-width:980px}/* Card */
.card{background:var(--card);border-radius:14px;padding:28px;box-shadow:0 8px 24px rgba(2,6,23,0.6);}

/* Logo */
.logo-container{text-align:center;margin-bottom:20px;}
.logo-container img{
  width:160px;
  filter:drop-shadow(0 0 20px #8b5cf6) drop-shadow(0 0 40px #06b6d4);
}

/* Login */
h1{margin:0 0 8px;font-size:22px;text-align:center}
p.lead{color:var(--muted);margin:0 0 18px;text-align:center}
.form-group{margin-bottom:14px}
input[type=text], input[type=email], select{width:100%;padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
.btn{display:inline-block;padding:10px 16px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--accent),#3b82f6);color:#021024;font-weight:600;cursor:pointer}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

/* Layout */
.two-col{display:grid;grid-template-columns:1fr 380px;gap:18px}
.game-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:12px}
.game-card{background:var(--glass);padding:12px;border-radius:10px}
.packs{margin-top:8px}
.pack{display:flex;justify-content:space-between;align-items:center;padding:8px;margin-bottom:8px;border-radius:8px;background:rgba(255,255,255,0.02)}

/* Modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);}
.modal-card{background:var(--card);padding:18px;border-radius:12px;width:100%;max-width:420px}

/* small */
@media (max-width:860px){.two-col{grid-template-columns:1fr}.container{padding:12px}}

.success-text{margin-top:12px;padding:10px;border-radius:8px;background:linear-gradient(90deg,#063a48,#052e4a);color:#bff3ff;text-align:center}

  </style>
</head>
<body>
  <div class="container">
    <div class="card" id="loginView">
      <div class="logo-container">
        <img src="rdxxd.png" alt="RDX XD Logo" />
      </div>
      <h1>Masuk ke TopUp Game</h1>
      <p class="lead">Masukan data singkat untuk melanjutkan ke halaman top up.</p>
      <div class="form-group">
        <label>Masukan nomor hp</label>
        <input id="phone" type="text" placeholder="08xxxxxxxxxx" />
      </div>
      <div class="form-group">
        <label>Masukan nama kamu</label>
        <input id="fullname" type="text" placeholder="Nama lengkap" />
      </div>
      <div class="form-group">
        <label>Pilih gender sesuai dengan kelamin mu</label>
        <select id="gender">
          <option value="male">Laki-laki</option>
          <option value="female">Perempuan</option>
          <option value="other">Lainnya</option>
        </select>
      </div>
      <div style="display:flex;gap:10px;align-items:center;justify-content:center">
        <button class="btn" id="loginBtn">Masuk</button>
        <button class="btn ghost" id="clearBtn">Kosongkan</button>
      </div>
    </div><!-- Shop view (hidden at first) -->
<div class="card" id="shopView" style="display:none;margin-top:18px">
  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
    <div>
      <strong id="welcomeUser">Hai, Player</strong>
      <div style="color:var(--muted)" id="userPhone"></div>
    </div>
    <div>
      <button class="btn ghost" id="logoutBtn">Keluar</button>
    </div>
  </div>

  <div class="two-col">
    <div>
      <h3>Top Up Murah - Pilih Game</h3>
      <p class="lead">Pilih game favoritmu lalu pilih paket diamond.</p>

      <div class="game-list" id="games"></div>
    </div>

    <aside>
      <h3>Ringkasan</h3>
      <div style="padding:12px;background:rgba(255,255,255,0.02);border-radius:10px">
        <div id="selectedGame">Belum memilih paket</div>
        <div id="selectedPack" style="margin-top:6px;color:var(--muted)"></div>
        <div id="selectedPrice" style="margin-top:8px;font-weight:700"></div>
        <div style="margin-top:12px;text-align:center">
          <button class="btn" id="proceedBtn" disabled>Order</button>
        </div>
      </div>
    </aside>
  </div>

  <div id="afterOrderText" style="display:none" class="success-text">top up done lanjut transaksi ke wa☺️</div>
</div>

<!-- Modal for ordering -->
<div id="orderModal" style="display:none" class="modal">
  <div class="modal-card">
    <h3>Form Order</h3>
    <p style="color:var(--muted);font-size:14px">Isikan detail game supaya kami tahu akun yang akan di-topup.</p>
    <div class="form-group"><label>Masukan id game kamu</label><input id="gameId" type="text" placeholder="ID Game" /></div>
    <div class="form-group"><label>Masukan nama lengkap</label><input id="orderFullname" type="text" placeholder="Nama lengkap" /></div>
    <div class="form-group"><label>Masukan Imel kamu</label><input id="orderEmail" type="email" placeholder="email@contoh.com" /></div>
    <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:8px">
      <button class="btn ghost" id="cancelOrder">Batal</button>
      <button class="btn" id="confirmOrder">Order</button>
    </div>
  </div>
</div>

  </div><script>
const whatsappNumberRaw = '085669690270';
function normalizeWA(n){n = (n||'').trim(); if(n.startsWith('+')) n = n.slice(1); if(n.startsWith('0')) return '62'+n.slice(1); return n}
function encodeMsg(s){return encodeURIComponent(s)}

const GAMES = [
  {id:'ml', name:'Mobile Legends', packs:[{d:20,p:5000},{d:50,p:12000},{d:100,p:22000}]},
  {id:'ff', name:'Free Fire', packs:[{d:12,p:5000},{d:60,p:24000},{d:180,p:70000}]},
  {id:'pubg', name:'PUBG Mobile', packs:[{d:60,p:15000},{d:300,p:70000}]},
  {id:'genshin', name:'Genshin Impact', packs:[{d:50,p:90000},{d:100,p:175000}]}
];

const loginView=document.getElementById('loginView');
const shopView=document.getElementById('shopView');
const loginBtn=document.getElementById('loginBtn');
const clearBtn=document.getElementById('clearBtn');
const logoutBtn=document.getElementById('logoutBtn');

loginBtn.addEventListener('click',()=>{
  const phone=document.getElementById('phone').value.trim();
  const name=document.getElementById('fullname').value.trim()||'Player';
  const gender=document.getElementById('gender').value;
  if(!phone){alert('Masukan nomor hp terlebih dahulu');return}
  sessionStorage.setItem('tp_phone',phone);
  sessionStorage.setItem('tp_name',name);
  sessionStorage.setItem('tp_gender',gender);
  showShop();
});
clearBtn.addEventListener('click',()=>{document.getElementById('phone').value='';document.getElementById('fullname').value='';document.getElementById('gender').selectedIndex=0});
logoutBtn.addEventListener('click',()=>{sessionStorage.clear();location.reload()});

function showShop(){
  loginView.style.display='none';
  shopView.style.display='block';
  const name=sessionStorage.getItem('tp_name')||'Player';
  const phone=sessionStorage.getItem('tp_phone')||'';
  document.getElementById('welcomeUser').innerText=`Hai, ${name}`;
  document.getElementById('userPhone').innerText=phone;
  renderGames();
}

let selected={game:null,pack:null};
function renderGames(){
  const el=document.getElementById('games');
  el.innerHTML='';
  GAMES.forEach(g=>{
    const card=document.createElement('div');card.className='game-card';
    const title=document.createElement('div');title.innerHTML='<strong>'+g.name+'</strong>';
    const packs=document.createElement('div');packs.className='packs';
    g.packs.forEach(p=>{
      const pack=document.createElement('div');pack.className='pack';
      pack.innerHTML=`<div>${p.d} Diamond</div><div>Rp ${numberWithCommas(p.p)}</div>`;
      const btn=document.createElement('button');btn.className='btn';btn.style.padding='6px 10px';btn.innerText='Pilih';
      btn.addEventListener('click',()=>{selectPack(g,p)});
      pack.appendChild(btn);
      packs.appendChild(pack);
    });
    card.appendChild(title);
    card.appendChild(packs);
    el.appendChild(card);
  });
}

function selectPack(game,pack){
  selected.game=game;selected.pack=pack;
  document.getElementById('selectedGame').innerText=game.name;
  document.getElementById('selectedPack').innerText=`${pack.d} Diamond`;
  document.getElementById('selectedPrice').innerText=`Rp ${numberWithCommas(pack.p)}`;
  document.getElementById('proceedBtn').disabled=false;
}
function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");}

const orderModal=document.getElementById('orderModal');
const proceedBtn=document.getElementById('proceedBtn');
const cancelOrder=document.getElementById('cancelOrder');
const confirmOrder=document.getElementById('confirmOrder');

proceedBtn.addEventListener('click',()=>{
  if(!selected.game||!selected.pack){alert('Pilih paket terlebih dahulu');return}
  document.getElementById('orderFullname').value=sessionStorage.getItem('tp_name')||'';
  orderModal.style.display='flex';
});
cancelOrder.addEventListener('click',()=>{orderModal.style.display='none'});

confirmOrder.addEventListener('click',()=>{
  const gameId=document.getElementById('gameId').value.trim();
  const fullname=document.getElementById('orderFullname').value.trim();
  const email=document.getElementById('orderEmail').value.trim();
  if(!gameId||!fullname||!email){alert('Isi semua field order terlebih dahulu');return}
  const waTarget=normalizeWA(whatsappNumberRaw);
  const msg=`Order TopUp%0AGame: ${selected.game.name}%0APaket: ${selected.pack.d} Diamond - Rp${selected.pack.p}%0AID Game: ${gameId}%0ANama: ${fullname}%0AEmail: ${email}`;
  const waUrl=`https://wa.me/${waTarget}?text=${encodeURIComponent(decodeURIComponent(msg))}`;

  orderModal.style.display='none';
  const doneText=document.getElementById('afterOrderText');
  doneText.style.display='block';
  doneText.innerText='Sedang memproses order kamu...';

  setTimeout(()=>{
    doneText.innerText='Top up done, lanjut transaksi ke WA ☺️';
    window.open(waUrl,'_blank');
  },5000);
});

document.getElementById('phone').addEventListener('keydown',(e)=>{if(e.key==='Enter')loginBtn.click()});
if(sessionStorage.getItem('tp_phone'))showShop();
</script></body>
</html>